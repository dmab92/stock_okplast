<odoo>
  <data>
    <!-- STOCK DE PRODUIT -->

   <record id="view_product_low_stock_tree" model="ir.ui.view">
        <field name="name">product.product.low.stock.tree</field>
        <field name="model">product.product</field>
        <field name="arch" type="xml">
            <tree decoration-danger="is_below_threshold">
                <field name="name"/>
                <field name="default_code"/>
                <field name="qty_available"/>
                <field name="stock_threshold"/>
                <field name="is_below_threshold" />
            </tree>
        </field>
    </record>


    <record id="action_low_stock_products" model="ir.actions.act_window">
        <field name="name">Articles avec Stock Faible</field>
        <field name="res_model">product.template</field>
        <field name="view_mode">tree</field>
        <field name="domain">[('is_below_threshold', '=', True)]</field>
    </record>

      <record id="action_good_stock_products" model="ir.actions.act_window">
        <field name="name">Articles avec Stock Suffisant</field>
        <field name="res_model">product.template</field>
        <field name="view_mode">tree</field>
        <field name="domain">[('is_below_threshold', '=', False)]</field>
    </record>





       <!-- PRODUCT STOCK ALERT  -->

      <record id="view_product_form_inherit" model="ir.ui.view">
        <field name="name">product.product.form.inherit</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='action_open_label_layout']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <!-- Remove the existing category field -->
            <xpath expr="//field[@name='categ_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='list_price']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//field[@name='standard_price']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//field[@name='product_tag_ids']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='categ_id']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <!-- Hide the Inventory tab -->
            <xpath expr="//page[@name='inventory']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>


            <xpath expr="//field[@name='sale_ok']" position="before">
                <group>
                    <group string="Informations sur la Piece">
                        <field name="stock_threshold" />
                         <field name="list_price"/>
                        <field name="categ_id"/>
                        <field name="machine_id"/>
                        <field name="usine_id" />
                    </group>
                     <group string="Description">
                        <field name="diamter" />
                        <field name="power" />
                         <field name="tension"/>
                         <field name="intensit"/>
                         <field name="other_dim" />
                         <field name="type_piece"/>
                         <field name="position_id" />

                    </group>
                </group>
            </xpath>
            <xpath expr="//field[@name='list_price']" position="attributes">
                <attribute name="string">Prix d'Achat</attribute>
            </xpath>

        </field>
    </record>


        <!-- Change "Réceptions" to "Entrée en Stock" -->
        <record id="stock.in_picking" model="ir.ui.menu">
            <field name="name">Entrée en Stock</field>
        </record>

        <!-- Change "Livraisons" to "Sortie de Stock" -->
        <record id="stock.out_picking" model="ir.ui.menu">
            <field name="name">Sortie de Stock</field>
        </record>


        <!-- Change "Interne" to "Transfert Interne" -->
        <record id="stock.int_picking" model="ir.ui.menu">
            <field name="name">Transfert entre Magasin</field>
        </record>



        <!-- Insert Category in stock picking vue -->
      <record id="view_picking_form_inherit_partner_category" model="ir.ui.view">
        <field name="name">stock.picking.form.inherit.partner.category</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='partner_id']" position="after">
                <field name="usine_id"/>
            </xpath>
            <xpath expr="//field[@name='origin']" position="replace">
                <field name="is_outgoing" invisible="1"/>
                <field name="user_id" readony="1"/>
                <field name="tech_id"
                   required="is_outgoing"
                   invisible="not is_outgoing" />
            </xpath>
        </field>
    </record>


    <!-- Hide Button vue -->

      <record id="view_picking_form_custom" model="ir.ui.view">
        <field name="name">stock.picking.form.inherit.custom</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form"/>
        <field name="arch" type="xml">
            <!-- Hide the cancel button -->
            <xpath expr="//button[@name='action_open_label_type']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//button[@name='action_confirm']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>

            <xpath expr="//field[@name='move_ids_without_package']/tree" position="inside">
                <field name="location_id" string="Source Location"/>
            </xpath>

        </field>
    </record>

      <!--Change the label of partner in stock picking  form view -->

      <record id="view_picking_form_inherit_label" model="ir.ui.view">
        <field name="name">stock.picking.form.machine.label</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.view_picking_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='partner_id']" position="attributes">
                <attribute name="string">Machine</attribute>
            </xpath>
        </field>
    </record>




      <record id="action_outgoing_stock_move" model="ir.actions.act_window">
        <field name="name">Outgoing Stock Moves</field>
        <field name="res_model">stock.move</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('picking_code', '=', 'outgoing')]</field>
        <field name="context">{'search_default_filter_outgoing': True}</field>
      </record>


      <record id="view_product_template_tree_custom" model="ir.ui.view">
            <field name="name">product.template.tree.custom</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_tree_view"/>
            <field name="arch" type="xml">
                <xpath expr="//tree" position="replace">
                    <tree>
                        <field name="default_code"/>
                        <field name="name"/>
                        <field name="qty_available"/>
                        <field name="stock_threshold"/>
                        <field name="intensit"/>
                        <field name="power"/>
                        <field name="diamter"/>
                        <field name="cat_piece"/>
                        <field name="other_dim"/>
                        <field name="tension"/>
                        <field name="categ_id"/>
                        <field name="type_piece"/>
                        <field name="position_id" />
                        <field name="usine_id" />
                        <field name="machine_id" />
                    </tree>
                </xpath>
            </field>
      </record>


      <record id="view_product_product_tree_custom" model="ir.ui.view">
            <field name="name">product.product.tree.custom</field>
            <field name="model">product.product</field>
            <field name="inherit_id" ref="product.product_product_tree_view"/>
            <field name="arch" type="xml">
                <xpath expr="//tree" position="replace">
                    <tree>
                        <field name="default_code"/>
                        <field name="name"/>
                        <field name="qty_available"/>
                        <field name="stock_threshold"/>
                        <field name="diamter"/>
                        <field name="type_piece"/>
                        <field name="cat_piece"/>
                        <field name="intensit"/>
                        <field name="power"/>
                        <field name="other_dim"/>
                        <field name="tension"/>
                        <field name="categ_id"/>
                        <field name="position_id" />
                        <field name="usine_id" />
                        <field name="machine_id" />
                    </tree>
                </xpath>
            </field>
      </record>

      <record id="view_stock_picking_tree_custom" model="ir.ui.view">
        <field name="name">stock.picking.tree.custom</field>
        <field name="model">stock.picking</field>
        <field name="inherit_id" ref="stock.vpicktree"/>
        <field name="arch" type="xml">
            <xpath expr="//tree" position="replace">
                <tree string="Stock Picking">
                    <field name="scheduled_date"/>
                    <field name="name"/>
                    <field name="location_id" string="De"/>
                    <field name="partner_id" string="Vers"/>
                    <field name="usine_id"/>
                    <field name="tech_id"/>
                    <field name="user_id"/>
                     <field name="state"/>
                </tree>
            </xpath>
        </field>
    </record>



      <record id="view_move_line_tree_custom" model="ir.ui.view">
        <field name="name">stock.move.line.tree.inherit</field>
        <field name="model">stock.move.line</field>
        <field name="inherit_id" ref="stock.view_move_line_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='location_dest_id']" position="replace">
                <field name="partner_id"/>
                <field name="usine_id"/>
                <field name="tech_id"/>
                <field name="user_id"/>
             </xpath>
        </field>
    </record>

    <!-- Action to filter only companies -->
    <record id="action_companies_only" model="ir.actions.act_window">
        <field name="name">LISTE DES MACHINES</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">tree,form</field>
        <field name="domain">[('is_company', '=', True)]</field>
        <field name="context">{'default_is_company': True}</field>
    </record>

    <!-- Menu item under Contacts -->
    <menuitem
        id="menu_companies_only"
        name="LISTE DES MACHINES"
        parent="contacts.menu_contacts"
        action="action_companies_only"
        sequence="15"
    />


    </data>
</odoo>

